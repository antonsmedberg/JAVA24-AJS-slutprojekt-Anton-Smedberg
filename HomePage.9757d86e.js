function e(e,s,a,t){Object.defineProperty(e,s,{get:a,set:t,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiredb09,a=s.register;a("kMUbH",function(a,t){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",()=>f);var r=s("9HU4Y"),n=s("k4OSS"),l=s("cS48i"),i=s("8ecrP"),o=s("ly2Lu"),d=s("iDNSZ"),c=s("5DAyF"),u=s("kDidi"),m=s("52Ey0"),h=s("2YcLf"),g=s("1NlQQ"),p=s("aHNTv"),x=s("7TlIR"),f=()=>{let[e,s]=(0,n.useState)("board"),[a,t]=(0,n.useState)(null),{currentUser:f,logout:j,deleteCurrentUser:v}=(0,x.useAuth)(),b=(0,l.useNavigate)(),k=["frontend","backend","ux"],{members:y,loading:N,error:S,addMember:T,deleteMember:w}=(0,g.default)(),{tasks:C,loading:D,error:A,addTask:L,deleteTask:$,updateTaskStatus:F,assignTask:M}=(0,p.default)({realtime:!0,limit:100}),I=(e,s="info")=>{t({message:e,type:s}),setTimeout(()=>{t(null)},5e3)},U=(0,n.useCallback)(async e=>{let s=await T(e);s.success?I(`V\xe4lkommen ${e.name} till teamet! \u{1F389}`,"success"):I(`Kunde inte l\xe4gga till ${e.name}: ${s.error}`,"error")},[T]),O=(0,n.useCallback)(async e=>{let s=await w(e);s.success?I("Teammedlem har lämnat projektet.","success"):I(`Kunde inte ta bort teammedlem: ${s.error}`,"error")},[w]),z=(0,n.useCallback)(async e=>{let s=await L(e);s.success?I(`Ny uppgift "${e.title}" \xe4r redo att tacklas! \u{1F4AA}`,"success"):I(`Kunde inte skapa uppgift: ${s.error}`,"error")},[L]),E=(0,n.useCallback)(async(e,s)=>{let a=await F(e,s);a.success?I(`Uppgift flyttad till "${s}" - bra jobbat! \u{1F3AF}`,"success"):I(`Kunde inte flytta uppgift: ${a.error}`,"error")},[F]),B=(0,n.useCallback)(async(e,s,a)=>{let t=await M(e,s,a);t.success?s?I(`${a} tar nu hand om uppgiften! \u{1F44D}`,"success"):I("Uppgiften är nu ledig för vem som helst.","info"):I(`Kunde inte tilldela uppgift: ${t.error}`,"error")},[M]),K=(0,n.useCallback)(async e=>{let s=await $(e);s.success?I("Uppgift borttagen - som om den aldrig funnits! ✨","success"):I(`Kunde inte ta bort uppgift: ${s.error}`,"error")},[$]),P=async()=>{try{if(f?.isAnonymous){console.log("Städar upp anonym användare:",f.uid);try{let e=await v();if(e.success){console.log("Användare borttagen! \uD83E\uDDF9"),b("/login");return}console.warn("Kunde inte ta bort användaren:",e.error)}catch(e){console.error("Fel vid städning:",e)}}(await j()).success?b("/login"):I("Kunde inte logga ut. Försök igen.","error")}catch(e){I("Ett fel uppstod vid utloggning.","error")}};return(0,n.useEffect)(()=>{S&&I(`Problem med att h\xe4mta teammedlemmar: ${S}`,"error"),A&&I(`Problem med att h\xe4mta uppgifter: ${A}`,"error")},[S,A]),(0,r.jsxs)("div",{className:"home-page",children:[(0,r.jsxs)("header",{className:"app-header",children:[(0,r.jsx)("h1",{children:"Scrum Board"}),(0,r.jsx)("div",{className:"user-controls",children:f?.isAnonymous?(0,r.jsxs)("div",{className:"user-profile",children:[(0,r.jsx)("div",{className:"user-avatar",children:(0,r.jsx)(h.UserIcon,{size:18,color:"#3b82f6"})}),(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("span",{className:"user-name",children:"Anonym användare"}),(0,r.jsx)("span",{className:"user-status",children:"Temporär session"})]}),(0,r.jsx)(m.default,{onClick:P,variant:"outline",size:"small",className:"logout-button",iconRight:(0,r.jsx)(h.LogoutIcon,{size:16}),"aria-label":"Logga ut",children:"Avsluta"})]}):(0,r.jsxs)("div",{className:"user-profile",children:[(0,r.jsx)("div",{className:"user-avatar",children:(0,r.jsx)(h.UserIcon,{size:18,color:"#3b82f6"})}),(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("span",{className:"user-name",children:f?.email}),(0,r.jsx)("span",{className:"user-status",children:"Inloggad"})]}),(0,r.jsx)(m.default,{onClick:P,variant:"outline",size:"small",className:"logout-button",iconRight:(0,r.jsx)(h.LogoutIcon,{size:16}),"aria-label":"Logga ut",children:"Logga ut"})]})})]}),(0,r.jsxs)("nav",{className:"app-tabs","aria-label":"Application Navigation",children:[(0,r.jsx)("button",{className:`tab-button ${"board"===e?"active":""}`,onClick:()=>s("board"),"aria-selected":"board"===e,role:"tab",children:"Board"}),(0,r.jsx)("button",{className:`tab-button ${"tasks"===e?"active":""}`,onClick:()=>s("tasks"),"aria-selected":"tasks"===e,role:"tab",children:"Uppgifter"}),(0,r.jsx)("button",{className:`tab-button ${"members"===e?"active":""}`,onClick:()=>s("members"),"aria-selected":"members"===e,role:"tab",children:"Team"})]}),(0,r.jsxs)("main",{className:"app-content",role:"tabpanel","aria-live":"polite",children:["board"===e&&(0,r.jsx)(i.default,{tasks:C,members:y,onAddTask:z,onUpdateTaskStatus:E,onAssignTask:B,onDeleteTask:K,categories:k,isLoading:D||N}),"tasks"===e&&(0,r.jsx)(o.default,{tasks:C,members:y,onAddTask:z,onUpdateTaskStatus:E,onAssignTask:B,onDeleteTask:K,categories:k,isLoading:D||N}),"members"===e&&(0,r.jsx)(d.default,{members:y,onAddMember:U,onDeleteMember:O,roles:k,isLoading:N})]}),a&&(0,r.jsx)(c.default,{message:a.message,type:a.type,onClose:()=>t(null)}),(0,r.jsx)(u.default,{onSuccess:I})]})}}),a("8ecrP",function(a,t){e(a.exports,"default",()=>u);var r=s("9HU4Y"),n=s("k4OSS"),l=s("OgeLm"),i=s("52Ey0"),o=s("g8dWu"),d=s("fs6dk"),c=s("lonA3"),u=(0,n.memo)(({tasks:e,members:s,onAddTask:a,onUpdateTaskStatus:t,onAssignTask:u,onDeleteTask:m,categories:h=["frontend","backend","ux"],isLoading:g=!1})=>{let[p,x]=(0,n.useState)(!1),{freshTasks:f,ongoingWork:j,finishedStuff:v}=(0,n.useMemo)(()=>{let s=(0,c.filterOutArchived)(e);return{freshTasks:(0,c.filterByStatus)(s,"Nytt"),ongoingWork:(0,c.filterByStatus)(s,"Pågående"),finishedStuff:(0,c.filterByStatus)(s,"Klar")}},[e]),b=(0,n.useCallback)(e=>{a(e),x(!1)},[a]);return(0,r.jsxs)("div",{className:"scrum-board-container",children:[(0,r.jsxs)("div",{className:"board-header",children:[(0,r.jsx)("h2",{children:"Scrum Board"}),(0,r.jsx)(i.default,{onClick:()=>x(!0),variant:"primary",children:"Lägg till uppgift"})]}),g?(0,r.jsx)("div",{className:"loading-indicator",children:(0,r.jsx)("span",{children:"Laddar uppgifter"})}):(0,r.jsxs)("div",{className:"board-columns",children:[(0,r.jsxs)("div",{className:"board-column",children:[(0,r.jsxs)("div",{className:"column-header",children:[(0,r.jsx)("h3",{children:"Nya uppgifter"}),(0,r.jsx)("span",{className:"task-count",children:f.length})]}),(0,r.jsx)("div",{className:"column-content",children:0===f.length?(0,r.jsxs)("div",{className:"empty-column",children:[(0,r.jsx)("p",{children:"Inga nya uppgifter"}),(0,r.jsx)(i.default,{onClick:()=>x(!0),variant:"secondary",size:"small",children:"Lägg till uppgift"})]}):f.map(e=>(0,r.jsx)(l.default,{task:e,members:s,onUpdateStatus:t,onAssignTask:u,onDeleteTask:m},e.id))})]}),(0,r.jsxs)("div",{className:"board-column",children:[(0,r.jsxs)("div",{className:"column-header",children:[(0,r.jsx)("h3",{children:"Pågående"}),(0,r.jsx)("span",{className:"task-count",children:j.length})]}),(0,r.jsx)("div",{className:"column-content",children:0===j.length?(0,r.jsx)("div",{className:"empty-column",children:(0,r.jsx)("p",{children:"Inga pågående uppgifter"})}):j.map(e=>(0,r.jsx)(l.default,{task:e,members:s,onUpdateStatus:t,onAssignTask:u,onDeleteTask:m},e.id))})]}),(0,r.jsxs)("div",{className:"board-column",children:[(0,r.jsxs)("div",{className:"column-header",children:[(0,r.jsx)("h3",{children:"Klara"}),(0,r.jsx)("span",{className:"task-count",children:v.length})]}),(0,r.jsx)("div",{className:"column-content",children:0===v.length?(0,r.jsx)("div",{className:"empty-column",children:(0,r.jsx)("p",{children:"Inga klara uppgifter"})}):v.map(e=>(0,r.jsx)(l.default,{task:e,members:s,onUpdateStatus:t,onAssignTask:u,onDeleteTask:m},e.id))})]})]}),(0,r.jsx)(o.default,{isOpen:p,onClose:()=>x(!1),title:"Lägg till uppgift",children:(0,r.jsx)(d.default,{onAddTask:b,categories:h})})]})})}),a("OgeLm",function(a,t){e(a.exports,"default",()=>d);var r=s("9HU4Y"),n=s("k4OSS"),l=s("52Ey0"),i=s("g8dWu"),o=s("hGPrg"),d=(0,n.memo)(({task:e,members:s,onUpdateStatus:a,onAssignTask:t,onDeleteTask:d})=>{let[c,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(""),x=(0,n.useMemo)(()=>s.filter(s=>s.role===e.category),[s,e.category]),f=e=>{switch(e.toLowerCase()){case"nytt":return"status-new";case"pågående":return"status-in-progress";case"klar":return"status-completed";default:return""}},j=e=>{switch(e.toLowerCase()){case"frontend":return"category-frontend";case"backend":return"category-backend";case"ux":return"category-ux";default:return"category-default"}},v=(0,n.useCallback)(s=>{a(e.id,s),u(!1)},[a,e.id]),b=(0,n.useCallback)(()=>{if(!g)return;let a=s.find(e=>e.id===g);a&&(t(e.id,a.id,a.name),u(!1))},[g,s,t,e.id]),k=(0,n.useCallback)(()=>{d(e.id),h(!1),u(!1)},[d,e.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"task-card",onClick:()=>u(!0),children:[(0,r.jsxs)("div",{className:"task-header",children:[(0,r.jsx)("span",{className:`task-status ${f(e.status)}`,children:e.status}),(0,r.jsx)("span",{className:`task-category ${j(e.category)}`,children:e.category})]}),(0,r.jsx)("h3",{className:"task-title",children:e.title}),e.description&&(0,r.jsx)("p",{className:"task-description",children:e.description.length>100?`${e.description.substring(0,100)}...`:e.description}),(0,r.jsxs)("div",{className:"task-meta",children:[e.assignedToMemberName?(0,r.jsxs)("div",{className:"task-assigned",children:[(0,r.jsx)("span",{className:"meta-label",children:"Tilldelad:"}),(0,r.jsx)("span",{className:"meta-value",children:e.assignedToMemberName})]}):(0,r.jsxs)("div",{className:"task-assigned",children:[(0,r.jsx)("span",{className:"meta-label",children:"Tilldelad:"}),(0,r.jsx)("span",{className:"meta-value not-assigned",children:"Ej tilldelad"})]}),(0,r.jsxs)("div",{className:"task-created",children:[(0,r.jsx)("span",{className:"meta-label",children:"Skapad:"}),(0,r.jsx)("span",{className:"meta-value",title:(0,o.formatDate)(e.creationTimestamp),children:(0,o.formatRelativeTime)(e.creationTimestamp)})]})]})]}),(0,r.jsx)(i.default,{isOpen:c,onClose:()=>u(!1),title:e.title,size:"medium",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{onClick:()=>h(!0),variant:"danger",children:"Ta bort"}),(0,r.jsx)("div",{style:{flex:1}}),"Klar"!==e.status&&(0,r.jsx)(l.default,{onClick:()=>v("Klar"),variant:"success",children:"Markera som klar"}),"Nytt"===e.status&&(0,r.jsx)(l.default,{onClick:()=>v("Pågående"),variant:"primary",children:"Starta uppgift"})]}),children:(0,r.jsxs)("div",{className:"task-details",children:[(0,r.jsxs)("div",{className:"task-detail-row",children:[(0,r.jsx)("span",{className:"detail-label",children:"Status:"}),(0,r.jsx)("span",{className:`detail-value task-status ${f(e.status)}`,children:e.status})]}),(0,r.jsxs)("div",{className:"task-detail-row",children:[(0,r.jsx)("span",{className:"detail-label",children:"Kategori:"}),(0,r.jsx)("span",{className:`detail-value task-category ${j(e.category)}`,children:e.category})]}),(0,r.jsxs)("div",{className:"task-detail-row",children:[(0,r.jsx)("span",{className:"detail-label",children:"Skapad:"}),(0,r.jsx)("span",{className:"detail-value",children:(0,o.formatDate)(e.creationTimestamp)})]}),e.description&&(0,r.jsxs)("div",{className:"task-detail-description",children:[(0,r.jsx)("h4",{children:"Beskrivning"}),(0,r.jsx)("p",{children:e.description})]}),(0,r.jsxs)("div",{className:"task-assignment",children:[(0,r.jsx)("h4",{children:"Tilldelning"}),e.assignedToMemberName?(0,r.jsxs)("div",{className:"current-assignment",children:[(0,r.jsxs)("p",{children:["Denna uppgift är tilldelad till:"," ",(0,r.jsx)("strong",{children:e.assignedToMemberName})]}),(0,r.jsx)(l.default,{onClick:()=>t(e.id,null,null),variant:"secondary",size:"small",children:"Ta bort tilldelning"})]}):(0,r.jsx)("div",{className:"assignment-form",children:x.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["Tilldela denna ",e.category,"-uppgift till en teammedlem med matchande roll:"]}),(0,r.jsxs)("div",{className:"assignment-controls",children:[(0,r.jsxs)("select",{value:g,onChange:e=>p(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Välj teammedlem"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsx)(l.default,{onClick:b,variant:"primary",disabled:!g,children:"Tilldela"})]})]}):(0,r.jsxs)("p",{className:"no-eligible-members",children:["Det finns inga teammedlemmar med rollen ",e.category," som kan tilldelas denna uppgift."]})})]})]})}),(0,r.jsx)(i.default,{isOpen:m,onClose:()=>h(!1),title:"Bekräfta borttagning",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{onClick:()=>h(!1),variant:"secondary",children:"Avbryt"}),(0,r.jsx)(l.default,{onClick:k,variant:"danger",children:"Ta bort"})]}),children:(0,r.jsxs)("p",{children:['Är du säker på att du vill ta bort uppgiften "',e.title,'"? Uppgiften kommer att tas bort permanent från databasen och kan inte återställas.']})})]})})}),a("52Ey0",function(a,t){e(a.exports,"default",()=>n);var r=s("9HU4Y");s("k4OSS");var n=({children:e,onClick:s,type:a="button",variant:t="primary",size:n="medium",disabled:l=!1,fullWidth:i=!1,iconLeft:o=null,iconRight:d=null,className:c=""})=>{let u=o||d,m=`
    button
    button-${t}
    button-${n}
    ${i?"button-full-width":""}
    ${u?"button-with-icon":""}
    ${c}
  `.trim().replace(/\s+/g," ");return(0,r.jsxs)("button",{type:a,className:m,onClick:s,disabled:l,"aria-disabled":l,children:[o&&(0,r.jsx)("span",{className:"button-icon-left",children:o}),e,d&&(0,r.jsx)("span",{className:"button-icon-right",children:d})]})}}),a("g8dWu",function(a,t){e(a.exports,"default",()=>i);var r=s("9HU4Y"),n=s("k4OSS"),l=s("8QtTq");s("52Ey0");var i=({isOpen:e,onClose:s,title:a,children:t,footer:i,size:o="medium"})=>((0,n.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&s()};return window.addEventListener("keydown",a),e&&(document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",a),document.body.style.overflow="auto"}},[e,s]),e)?(l&&l.__esModule?l.default:l).createPortal((0,r.jsx)("div",{className:"modal-overlay",onClick:s,children:(0,r.jsxs)("div",{className:`modal modal-${o}`,onClick:e=>{e.stopPropagation()},children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{className:"modal-title",children:a}),(0,r.jsx)("button",{className:"modal-close",onClick:s,"aria-label":"Stäng",children:"×"})]}),(0,r.jsx)("div",{className:"modal-content",children:t}),i&&(0,r.jsx)("div",{className:"modal-footer",children:i})]})}),document.body):null}),a("hGPrg",function(s,a){e(s.exports,"formatDate",()=>t),e(s.exports,"formatRelativeTime",()=>r);let t=e=>{if(!e)return"";let s=new Date(e),a=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0"),n=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0");return`${a}-${t}-${r} ${n}:${l}`},r=e=>{if(!e)return"";let s=Math.floor((Date.now()-e)/6e4),a=Math.floor(s/60),t=Math.floor(a/24);return t>0?`${t} ${1===t?"dag":"dagar"} sedan`:a>0?`${a} ${1===a?"timme":"timmar"} sedan`:s>0?`${s} ${1===s?"minut":"minuter"} sedan`:"Just nu"}}),a("fs6dk",function(a,t){e(a.exports,"default",()=>i);var r=s("9HU4Y"),n=s("k4OSS"),l=s("52Ey0"),i=({onAddTask:e,categories:s=["frontend","backend","ux"]})=>{let[a,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(s[0]),[d,c]=(0,n.useState)(""),[u,m]=(0,n.useState)("");return(0,r.jsxs)("form",{className:"add-task-form",onSubmit:r=>(r.preventDefault(),a.trim())?i?void(e({title:a.trim(),category:i,description:d.trim()||null,assignedToMemberId:null,assignedToMemberName:null}),t(""),o(s[0]),c(""),m("")):void m("Du måste välja en kategori!"):void m("Du måste ge uppgiften en titel!"),children:[u&&(0,r.jsx)("div",{className:"form-error",children:u}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"title",children:"Titel *"}),(0,r.jsx)("input",{type:"text",id:"title",value:a,onChange:e=>t(e.target.value),placeholder:"Ange uppgiftens titel",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"category",children:"Kategori *"}),(0,r.jsx)("select",{id:"category",value:i,onChange:e=>o(e.target.value),required:!0,children:s.map(e=>(0,r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"description",children:"Beskrivning (valfritt)"}),(0,r.jsx)("textarea",{id:"description",value:d,onChange:e=>c(e.target.value),placeholder:"Beskriv uppgiften mer detaljerat",rows:4})]}),(0,r.jsx)("div",{className:"form-actions",children:(0,r.jsx)(l.default,{type:"submit",variant:"primary",children:"Lägg till"})})]})}}),a("lonA3",function(s,a){e(s.exports,"filterByStatus",()=>t),e(s.exports,"filterOutArchived",()=>r);let t=(e,s)=>s&&Array.isArray(e)&&0!==e.length?e.filter(e=>e?.status===s):e,r=e=>Array.isArray(e)&&0!==e.length?e.filter(e=>!e?.isArchived):e}),a("ly2Lu",function(a,t){e(a.exports,"default",()=>m);var r=s("9HU4Y"),n=s("k4OSS"),l=s("52Ey0"),i=s("g8dWu"),o=s("OgeLm"),d=s("fs6dk"),c=s("lonA3"),u=s("5YstW"),m=(0,n.memo)(({tasks:e,members:s,onAddTask:a,onUpdateTaskStatus:t,onAssignTask:m,onDeleteTask:h,categories:g=["frontend","backend","ux"],isLoading:p=!1})=>{let[x,f]=(0,n.useState)(!1),[j,v]=(0,n.useState)(""),[b,k]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[S,T]=(0,n.useState)("newest"),w=(0,n.useMemo)(()=>{let s=(0,c.filterOutArchived)(e).filter(e=>!j||e.assignedToMemberId===j).filter(e=>!b||e.category===b).filter(e=>!y||e.status===y);switch(S){case"newest":default:return(0,u.sortByNewest)(s);case"oldest":return(0,u.sortByOldest)(s);case"titleAsc":return(0,u.sortByTitleAsc)(s);case"titleDesc":return(0,u.sortByTitleDesc)(s)}},[e,j,b,y,S]),C=(0,n.useCallback)(e=>{a(e),f(!1)},[a]),D=(0,n.useCallback)(()=>{v(""),k(""),N(""),T("newest")},[]);return(0,r.jsxs)("div",{className:"task-list-container",children:[(0,r.jsxs)("div",{className:"task-list-header",children:[(0,r.jsx)("h2",{children:"Uppgifter"}),(0,r.jsx)(l.default,{onClick:()=>f(!0),variant:"primary",children:"Lägg till uppgift"})]}),(0,r.jsxs)("div",{className:"task-filters",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{htmlFor:"filterMember",children:"Filtrera efter medlem:"}),(0,r.jsxs)("select",{id:"filterMember",value:j,onChange:e=>v(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Alla medlemmar"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{htmlFor:"filterCategory",children:"Filtrera efter kategori:"}),(0,r.jsxs)("select",{id:"filterCategory",value:b,onChange:e=>k(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Alla kategorier"}),g.map(e=>(0,r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{htmlFor:"filterStatus",children:"Filtrera efter status:"}),(0,r.jsxs)("select",{id:"filterStatus",value:y,onChange:e=>N(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Alla statusar"}),(0,r.jsx)("option",{value:"Nytt",children:"Nytt"}),(0,r.jsx)("option",{value:"Pågående",children:"Pågående"}),(0,r.jsx)("option",{value:"Klar",children:"Klar"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{htmlFor:"sortOption",children:"Sortera efter:"}),(0,r.jsxs)("select",{id:"sortOption",value:S,onChange:e=>T(e.target.value),children:[(0,r.jsx)("option",{value:"newest",children:"Nyast först"}),(0,r.jsx)("option",{value:"oldest",children:"Äldst först"}),(0,r.jsx)("option",{value:"titleAsc",children:"Titel (A-Ö)"}),(0,r.jsx)("option",{value:"titleDesc",children:"Titel (Ö-A)"})]})]}),(0,r.jsx)(l.default,{onClick:D,variant:"secondary",size:"small",children:"Återställ filter"})]}),p?(0,r.jsx)("div",{className:"loading-indicator",children:(0,r.jsx)("span",{children:"Laddar uppgifter"})}):0===w.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsxs)("p",{children:["Inga uppgifter hittades",j||b||y?" med valda filter":"","."]}),j||b||y?(0,r.jsx)(l.default,{onClick:D,variant:"secondary",children:"Återställ filter"}):(0,r.jsx)(l.default,{onClick:()=>f(!0),variant:"secondary",children:"Lägg till din första uppgift"})]}):(0,r.jsx)("div",{className:"task-grid",children:w.map(e=>(0,r.jsx)(o.default,{task:e,members:s,onUpdateStatus:t,onAssignTask:m,onDeleteTask:h},e.id))}),(0,r.jsx)(i.default,{isOpen:x,onClose:()=>f(!1),title:"Lägg till uppgift",children:(0,r.jsx)(d.default,{onAddTask:C,categories:g})})]})})}),a("5YstW",function(s,a){e(s.exports,"sortByNewest",()=>t),e(s.exports,"sortByOldest",()=>r),e(s.exports,"sortByTitleAsc",()=>n),e(s.exports,"sortByTitleDesc",()=>l);let t=e=>[...e].sort((e,s)=>s.creationTimestamp-e.creationTimestamp),r=e=>[...e].sort((e,s)=>e.creationTimestamp-s.creationTimestamp),n=e=>[...e].sort((e,s)=>e.title.localeCompare(s.title)),l=e=>[...e].sort((e,s)=>s.title.localeCompare(e.title))}),a("iDNSZ",function(a,t){e(a.exports,"default",()=>d);var r=s("9HU4Y"),n=s("k4OSS"),l=s("52Ey0"),i=s("g8dWu"),o=s("855r2"),d=({members:e,onAddMember:s,onDeleteMember:a,roles:t=["frontend","backend","ux"],isLoading:d=!1})=>{let[c,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),g=e=>{switch(e.toLowerCase()){case"frontend":return"role-frontend";case"backend":return"role-backend";case"ux":return"role-ux";default:return"role-default"}};return(0,r.jsxs)("div",{className:"member-list-container",children:[(0,r.jsxs)("div",{className:"member-list-header",children:[(0,r.jsx)("h2",{children:"Teammedlemmar"}),(0,r.jsx)(l.default,{onClick:()=>u(!0),variant:"primary",children:"Lägg till medlem"})]}),d?(0,r.jsx)("div",{className:"loading-indicator",children:(0,r.jsx)("span",{children:"Laddar teammedlemmar"})}):0===e.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("p",{children:"Inga teammedlemmar tillagda ännu."}),(0,r.jsx)(l.default,{onClick:()=>u(!0),variant:"secondary",children:"Lägg till din första teammedlem"})]}):(0,r.jsx)("div",{className:"member-grid",children:e.map(e=>(0,r.jsxs)("div",{className:"member-card",children:[(0,r.jsx)("div",{className:"member-avatar",children:e.avatar?(0,r.jsx)("img",{src:e.avatar,alt:e.name}):(0,r.jsx)("div",{className:"member-initials",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,r.jsxs)("div",{className:"member-info",children:[(0,r.jsx)("h3",{className:"member-name",children:e.name}),(0,r.jsx)("span",{className:`member-role ${g(e.role)}`,children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]}),(0,r.jsx)(l.default,{onClick:()=>h(e),variant:"danger",size:"small",children:"Ta bort"})]},e.id))}),(0,r.jsx)(i.default,{isOpen:c,onClose:()=>u(!1),title:"Lägg till teammedlem",children:(0,r.jsx)(o.default,{onAddMember:e=>{s(e),u(!1)},roles:t})}),(0,r.jsx)(i.default,{isOpen:!!m,onClose:()=>h(null),title:"Bekräfta borttagning",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{onClick:()=>h(null),variant:"secondary",children:"Avbryt"}),(0,r.jsx)(l.default,{onClick:()=>{m&&(a(m.id),h(null))},variant:"danger",children:"Ta bort"})]}),children:m&&(0,r.jsxs)("p",{children:["Vill du verkligen ta bort ",m.name," från teamet? Det går inte att ångra, och alla uppgifter som personen jobbar med just nu blir otilldelade."]})})]})}}),a("855r2",function(a,t){e(a.exports,"default",()=>i);var r=s("9HU4Y"),n=s("k4OSS"),l=s("52Ey0"),i=({onAddMember:e,roles:s=["frontend","backend","ux"]})=>{let[a,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(s[0]),[d,c]=(0,n.useState)(""),[u,m]=(0,n.useState)("");return(0,r.jsxs)("form",{className:"add-member-form",onSubmit:r=>(r.preventDefault(),a.trim())?i?void(e({name:a.trim(),role:i,avatar:d.trim()||null}),t(""),o(s[0]),c(""),m("")):void m("Du måste välja en roll!"):void m("Du måste ange ett namn!"),children:[u&&(0,r.jsx)("div",{className:"form-error",children:u}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"name",children:"Namn *"}),(0,r.jsx)("input",{type:"text",id:"name",value:a,onChange:e=>t(e.target.value),placeholder:"Ange namn",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"role",children:"Roll *"}),(0,r.jsx)("select",{id:"role",value:i,onChange:e=>o(e.target.value),required:!0,children:s.map(e=>(0,r.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"avatar",children:"Profilbild URL (valfritt)"}),(0,r.jsx)("input",{type:"url",id:"avatar",value:d,onChange:e=>c(e.target.value),placeholder:"https://example.com/image.jpg"})]}),(0,r.jsx)("div",{className:"form-actions",children:(0,r.jsx)(l.default,{type:"submit",variant:"primary",children:"Lägg till"})})]})}}),a("5DAyF",function(a,t){e(a.exports,"default",()=>l);var r=s("9HU4Y"),n=s("k4OSS"),l=({message:e,type:s="info",duration:a=5e3,onClose:t})=>{let[l,i]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{if(!e)return;i(!0);let s=setTimeout(()=>{i(!1),t&&setTimeout(t,300)},a);return()=>clearTimeout(s)},[e,a,t]),e)?(0,r.jsxs)("div",{className:`notification notification-${s} ${l?"show":"hide"}`,children:[(0,r.jsxs)("div",{className:"notification-content",children:["success"===s&&(0,r.jsx)("span",{className:"notification-icon",children:"✓"}),"error"===s&&(0,r.jsx)("span",{className:"notification-icon",children:"✗"}),"warning"===s&&(0,r.jsx)("span",{className:"notification-icon",children:"⚠"}),"info"===s&&(0,r.jsx)("span",{className:"notification-icon",children:"ℹ"}),(0,r.jsx)("p",{className:"notification-message",children:e})]}),(0,r.jsx)("button",{className:"notification-close",onClick:()=>{i(!1),t&&setTimeout(t,300)},"aria-label":"Stäng",children:"×"})]}):null}}),a("kDidi",function(a,t){e(a.exports,"default",()=>d);var r=s("9HU4Y"),n=s("k4OSS"),l=s("afL7w"),i=s("7TlIR"),o=s("2YcLf"),d=({onSuccess:e})=>{let[s,a]=(0,n.useState)(!1),[t,d]=(0,n.useState)("checking"),[c,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),{currentUser:g}=(0,i.useAuth)();(0,n.useEffect)(()=>{if(!g)return void d("error");let s=!1,a=setTimeout(async()=>{if(s)return void console.log("Databasanslutning kontrolleras redan, hoppar över...");s=!0;try{let s=await (0,l.testDatabaseConnection)();if(d(s.success?"connected":"error"),s.success)if(g)try{let e=localStorage.getItem("exampleDataAdded");if("true"===e){let e=await (0,l.checkIfExampleDataExists)();h(e)}else{let e=await (0,l.checkIfExampleDataExists)();h(e)}}catch(e){console.log("Kunde inte kontrollera exempeldata, sätter till false"),h(!1)}else h(!1);else e(`Fel vid anslutning till databasen: ${s.error}`,"error")}catch(s){d("error"),e(`Fel vid test av databasanslutning: ${s.message}`,"error")}finally{s=!1}},100);return()=>{clearTimeout(a),s=!1}},[g]);let p=async()=>{if(window.confirm("Lägg till testdata i databasen?\n\nDetta kommer att fylla databasen med exempeldata för team och uppgifter.\n\nOBS! Befintlig data kommer att ersättas. Vill du fortsätta?")){a(!0);try{e("Skapar testdata...","info");let s=await (0,l.seedDatabase)();s.success?(h(!0),e("Klart! Databasen har fyllts med testdata för team och uppgifter.","success")):e(`Ett fel uppstod: ${s.error}`,"error")}catch(s){console.error("Fel vid seedDatabase:",s),e(`Ett ov\xe4ntat fel uppstod: ${s.message}`,"error")}finally{a(!1)}}},x=async()=>{if(window.confirm("Rensa all data från databasen?\n\nDetta kommer att ta bort alla team och uppgifter från databasen.\n\nDet går inte att ångra denna åtgärd. Vill du fortsätta?")){a(!0);try{e("Rensar databasen...","info");let s=await (0,l.clearDatabase)();s.success?(h(!1),e("Klart! Databasen har rensats och är nu tom.","success")):e(`Ett fel uppstod: ${s.error}`,"error")}catch(s){console.error("Fel vid clearDatabase:",s),e(`Ett ov\xe4ntat fel uppstod: ${s.message}`,"error")}finally{a(!1)}}};return(0,r.jsxs)("div",{className:`database-seeder ${c?"expanded":"collapsed"}`,children:[(0,r.jsxs)("div",{className:"seeder-header",onClick:()=>{u(!c)},children:[(0,r.jsxs)("div",{className:"seeder-header-content",children:[(0,r.jsx)("span",{className:"seeder-header-icon",children:(0,r.jsx)(o.DatabaseIcon,{size:16})}),(0,r.jsx)("h3",{children:"Databasverktyg"})]}),(0,r.jsx)("span",{className:"expand-icon",children:c?(0,r.jsx)(o.ChevronDownIcon,{size:16}):(0,r.jsx)(o.ChevronRightIcon,{size:16})})]}),(0,r.jsx)("div",{className:"seeder-content",children:(0,r.jsxs)("div",{className:"seeder-content-inner",children:[(0,r.jsxs)("div",{className:"status-indicators",children:[(0,r.jsxs)("div",{className:`connection-status ${t}`,children:["checking"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"status-icon",children:(0,r.jsx)(o.LoadingIcon,{size:16})}),"Ansluter till Firebase..."]}),"connected"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"status-icon",children:(0,r.jsx)(o.CheckIcon,{size:16,color:"#10b981"})}),"Ansluten till Firebase-databasen"]}),"error"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"status-icon",children:(0,r.jsx)(o.AlertIcon,{size:16,color:"#ef4444"})}),"Kunde inte ansluta till Firebase"]})]}),"connected"===t&&(0,r.jsxs)("div",{className:`example-data-status ${m?"exists":"none"}`,children:[(0,r.jsx)("span",{className:"status-icon",children:(0,r.jsx)(o.SearchIcon,{size:16})}),m?"Testdata finns i databasen":"Databasen är tom"]})]}),(0,r.jsx)("div",{className:"seeder-description",children:"Hantera testdata för din Scrum Board. Fyll databasen med färdiga exempel på team och uppgifter för att snabbt komma igång, eller rensa allt för att börja om från början."}),(0,r.jsxs)("div",{className:"seeder-buttons",children:[!m&&(0,r.jsx)("button",{className:"button seed-button",onClick:p,disabled:s||"connected"!==t,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.LoadingIcon,{size:16,className:"loading-spinner"}),"Skapar testdata..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.DatabasePlusIcon,{size:16}),"Lägg till testdata"]})}),m&&(0,r.jsx)("button",{className:"button clear-button",onClick:x,disabled:s||"connected"!==t,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.LoadingIcon,{size:16,className:"loading-spinner"}),"Rensar databasen..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.TrashIcon,{size:16}),"Rensa databasen"]})})]}),"error"===t&&(0,r.jsxs)("div",{className:"connection-error",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Anslutningsfel"})," Kunde inte ansluta till Firebase-databasen."]}),(0,r.jsx)("p",{children:"Kontrollera följande:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Är Firebase-projektet korrekt konfigurerat?"}),(0,r.jsx)("li",{children:"Är databasens URL korrekt i firebaseConfig.jsx?"}),(0,r.jsx)("li",{children:"Har du rätt behörigheter för databasen?"}),(0,r.jsx)("li",{children:"Tillåter databasens säkerhetsregler läsning och skrivning?"})]})]}),"connected"===t&&(0,r.jsx)("div",{className:"seeder-info",children:(0,r.jsxs)("p",{className:"seeder-warning",children:[(0,r.jsx)("strong",{children:"Observera:"})," Detta verktyg är endast för testning. Befintlig data kommer att ersättas om du lägger till testdata eller rensar databasen. Använd med försiktighet."]})})]})})]})}}),a("afL7w",function(a,t){e(a.exports,"clearDatabase",()=>l),e(a.exports,"seedDatabase",()=>i),e(a.exports,"checkIfExampleDataExists",()=>o),e(a.exports,"testDatabaseConnection",()=>d);var r=s("2zCah"),n=s("3eAFs");let l=async()=>{try{return await (0,r.set)((0,r.ref)(n.db,"_diagnostics"),null),console.log("Diagnostik-noder har rensats från databasen!"),await (0,r.set)((0,r.ref)(n.db,"_connectionTest"),null),console.log("Gamla test-noder har rensats från databasen!"),await (0,r.set)((0,r.ref)(n.db,"members"),null),console.log("Teammedlemmar har rensats från databasen!"),await (0,r.set)((0,r.ref)(n.db,"tasks"),null),console.log("Uppgifter har rensats från databasen!"),localStorage.removeItem("exampleDataAdded"),{success:!0,message:"Databasen har rensats!"}}catch(e){return console.error("Fel vid rensning av databasen:",e),{success:!1,error:e.message}}},i=async()=>{try{await l();let e={member1:{name:"Anna Andersson",role:"frontend",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},member2:{name:"Erik Eriksson",role:"backend",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},member3:{name:"Maria Svensson",role:"ux",avatar:"https://randomuser.me/api/portraits/women/68.jpg"}},s={task1:{title:"Skapa login-sida",description:"Designa och koda en inloggningssida med formulär",status:"Nytt",category:"frontend",creationTimestamp:Date.now()-2592e5,assignedToMemberId:null,assignedToMemberName:null,isArchived:!1},task2:{title:"Fixa API-koppling",description:"Koppla ihop frontend med backend-API:et",status:"Pågående",category:"backend",creationTimestamp:Date.now()-864e5,assignedToMemberId:"member2",assignedToMemberName:"Erik Eriksson",isArchived:!1},task3:{title:"Förbättra design",description:"Uppdatera färger och typografi enligt nya designriktlinjer",status:"Klar",category:"ux",creationTimestamp:Date.now()-432e6,assignedToMemberId:"member3",assignedToMemberName:"Maria Svensson",isArchived:!1}};console.log("Försöker spara teammedlemmar till sökvägen 'members':",e);try{let s=(0,r.ref)(n.db,"members");await (0,r.set)(s,e),console.log("Teammedlemmar har lagts till i databasen!");let a=await (0,r.get)(s);a.exists()?console.log("Verifierat att members har sparats:",a.val()):console.error("VARNING: members verkar inte ha sparats!")}catch(e){throw console.error("Fel vid sparande av members:",e),e}console.log("Sparar uppgifter:",s);try{let e=(0,r.ref)(n.db,"tasks");await (0,r.set)(e,s),console.log("Uppgifter har lagts till i databasen!");let a=await (0,r.get)(e);a.exists()?console.log("Verifierat att tasks har sparats:",a.val()):console.error("VARNING: tasks verkar inte ha sparats!")}catch(e){throw console.error("Fel vid sparande:",e),e}return console.log("Firebase-databas URL:",n.db.app.options.databaseURL),console.log("Verifiering av data slutförd"),localStorage.setItem("exampleDataAdded","true"),{success:!0,message:"Databasen har fyllts med exempeldata!"}}catch(e){return console.error("Fel vid initialisering av databasen:",e),{success:!1,error:e.message}}},o=async()=>{try{let e=(0,r.ref)(n.db,"members/member1"),s=await (0,r.get)(e),a=(0,r.ref)(n.db,"tasks/task1"),t=await (0,r.get)(a),l=s.exists()&&t.exists();return l&&localStorage.setItem("exampleDataAdded","true"),l}catch(e){if("permission-denied"===e.code)return console.log("Användaren är inte inloggad, hoppar över kontroll av exempeldata"),!1;return console.error("Fel vid kontroll av exempeldata:",e),!1}},d=async()=>{try{let e=`connectionTest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s=(0,r.ref)(n.db,`_diagnostics/${e}`),a={timestamp:Date.now(),message:"Test connection",testId:e};if(await (0,r.set)(s,a),(await (0,r.get)(s)).exists())return await (0,r.set)(s,null),{success:!0,message:"Databasanslutning fungerar!"};return console.error("Kunde inte läsa testdata från databasen"),{success:!1,error:"Kunde inte läsa testdata"}}catch(e){return console.error("Fel vid test av databasanslutning:",e),{success:!1,error:e.message}}}}),a("2YcLf",function(a,t){e(a.exports,"DatabaseIcon",()=>n),e(a.exports,"ChevronDownIcon",()=>l),e(a.exports,"ChevronRightIcon",()=>i),e(a.exports,"LoadingIcon",()=>o),e(a.exports,"CheckIcon",()=>d),e(a.exports,"AlertIcon",()=>c),e(a.exports,"SearchIcon",()=>u),e(a.exports,"DatabasePlusIcon",()=>m),e(a.exports,"TrashIcon",()=>h),e(a.exports,"LogoutIcon",()=>g),e(a.exports,"UserIcon",()=>p);var r=s("9HU4Y");s("k4OSS");let n=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),(0,r.jsx)("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),(0,r.jsx)("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]}),l=({size:e=20,color:s="currentColor",...a})=>(0,r.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,r.jsx)("polyline",{points:"6 9 12 15 18 9"})}),i=({size:e=20,color:s="currentColor",...a})=>(0,r.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,r.jsx)("polyline",{points:"9 18 15 12 9 6"})}),o=({size:e=20,color:s="currentColor",...a})=>(0,r.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"loading-spinner",...a,children:(0,r.jsx)("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),d=({size:e=20,color:s="currentColor",...a})=>(0,r.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12"})}),c=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,r.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),u=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),m=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),(0,r.jsx)("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),(0,r.jsx)("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}),(0,r.jsx)("line",{x1:"12",y1:"12",x2:"12",y2:"18"}),(0,r.jsx)("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]}),h=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,r.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),g=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,r.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,r.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),p=({size:e=20,color:s="currentColor",...a})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,r.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),a("1NlQQ",function(a,t){e(a.exports,"default",()=>i);var r=s("k4OSS"),n=s("3eAFs"),l=s("2zCah"),i=()=>{let[e,s]=(0,r.useState)([]),[a,t]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),d="members";return(0,r.useEffect)(()=>{let e=(0,l.ref)(n.db,d);try{let a=(0,l.onValue)(e,e=>{let a=e.val();if(a){let e=Object.entries(a).map(([e,s])=>({id:e,...s}));s(e)}else s([]);t(!1)},e=>{console.error("useMembers: Error fetching members:",e),o(e.message),t(!1)});return()=>{a()}}catch(e){console.error("useMembers: Exception in effect:",e),o(e.message),t(!1)}},[]),{members:e,loading:a,error:i,addMember:async e=>{try{let s=(0,l.ref)(n.db,d);return await (0,l.push)(s,e),{success:!0}}catch(e){return o(e.message),{success:!1,error:e.message}}},deleteMember:async e=>{try{let s=(0,l.ref)(n.db,`${d}/${e}`);return await (0,l.remove)(s),{success:!0}}catch(e){return o(e.message),{success:!1,error:e.message}}}}}}),a("aHNTv",function(a,t){e(a.exports,"default",()=>i);var r=s("k4OSS"),n=s("3eAFs"),l=s("2zCah"),i=(e={})=>{let{status:s,limit:a,realtime:t=!0}=e,[i,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),p="tasks",x=(0,r.useMemo)(()=>{let e=(0,l.ref)(n.db,p);return s&&(e=(0,l.query)(e,(0,l.orderByChild)("status"),(0,l.equalTo)(s))),a&&!s&&(e=(0,l.query)(e,(0,l.limitToLast)(a))),e},[s,a]),f=(0,r.useCallback)(e=>e?Object.entries(e).map(([e,s])=>({id:e,...s,isOverdue:s.dueDate&&new Date(s.dueDate)<new Date,ageInDays:Math.floor((Date.now()-s.creationTimestamp)/864e5)})).sort((e,s)=>s.creationTimestamp-e.creationTimestamp):[],[]);(0,r.useEffect)(()=>{let e,s=Date.now();if(!h||!(s-h<3e4)||t){try{t?e=(0,l.onValue)(x,e=>{let a=e.val(),t=f(a);o(t),c(!1),m(null),g(s)},e=>{console.error("useOptimizedTasks: Firebase error:",e),m(e.message),c(!1)}):(0,l.onValue)(x,e=>{let a=e.val(),t=f(a);o(t),c(!1),m(null),g(s)},{onlyOnce:!0})}catch(e){console.error("useOptimizedTasks: Setup error:",e),m(e.message),c(!1)}return()=>{e&&e()}}},[x,f,h,t]);let j=(0,r.useCallback)(async e=>{try{let s=(0,l.ref)(n.db,p),a={...e,creationTimestamp:Date.now(),status:"Nytt",isArchived:!1,lastModified:Date.now(),version:1};return await (0,l.push)(s,a),{success:!0}}catch(e){return m(e.message),{success:!1,error:e.message}}},[]),v=(0,r.useCallback)(async(e,s)=>{try{let a=(0,l.ref)(n.db,`${p}/${e}`);return await (0,l.update)(a,{status:s,lastModified:Date.now()}),{success:!0}}catch(e){return m(e.message),{success:!1,error:e.message}}},[]),b=(0,r.useCallback)(async(e,s,a)=>{try{let t=(0,l.ref)(n.db,`${p}/${e}`);return await (0,l.update)(t,{assignedToMemberId:s,assignedToMemberName:a,status:s?"Pågående":"Nytt",lastModified:Date.now()}),{success:!0}}catch(e){return m(e.message),{success:!1,error:e.message}}},[]),k=(0,r.useCallback)(async e=>{try{let s=(0,l.ref)(n.db,`${p}/${e}`);return await (0,l.remove)(s),{success:!0}}catch(e){return m(e.message),{success:!1,error:e.message}}},[]),y=(0,r.useMemo)(()=>{let e=i.length,s=i.filter(e=>"Klar"===e.status).length;return{total:e,completed:s,inProgress:i.filter(e=>"Pågående"===e.status).length,pending:i.filter(e=>"Nytt"===e.status).length,completionRate:e>0?Math.round(s/e*100):0}},[i]);return{tasks:i,loading:d,error:u,stats:y,addTask:j,deleteTask:k,updateTaskStatus:v,assignTask:b,refreshTasks:()=>g(null),clearError:()=>m(null)}}});
//# sourceMappingURL=HomePage.9757d86e.js.map
